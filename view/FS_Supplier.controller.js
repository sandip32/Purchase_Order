/*
 * Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved
 */
jQuery.sap.require("sap.ca.scfld.md.controller.BaseFullscreenController");sap.ca.scfld.md.controller.BaseFullscreenController.extend("ui.s2p.mm.purord.fromrequisition.view.FS_Supplier",{onInit:function(e){this.oRouter.attachRouteMatched(function(e){if(e.getParameter("name")==="supplier"){this.getView().getModel().read("SupplierInfoCollection(VendorId='"+e.getParameter("arguments").supplierId+"',CompanyCode='"+e.getParameter("arguments").companyCode+"',PurchasingOrganization='"+e.getParameter("arguments").purchasingOrganization+"')",null,["$expand=SupplierContactCollection"],true,jQuery.proxy(this.onOdataReadSuccess,this))}},this)},onOdataReadSuccess:function(d){var m=new sap.ui.model.json.JSONModel(d);if(this.extHookOnDataReceived){m=this.extHookOnDataReceived(m)}this.getView().setModel(m,"supplier_model")},onBack:function(){var h=sap.ui.core.routing.History.getInstance();var d=h.getDirection("");if(d===sap.ui.core.routing.HistoryDirection.Unknown){this.oRouter.navTo("fullscreen",{})}else{window.history.go(-1)}},onTapPhone:function(e){sap.m.URLHelper.triggerTel(e.getSource().getText())},onTapEmail:function(e){sap.m.URLHelper.triggerEmail(e.getSource().getText())},onTapWebsite:function(e){var s=e.getSource().getText();s=s.replace(/^\s+|\s+$/g,"");var i=s.search("http");if(i!==0){s="http://"+s}sap.m.URLHelper.redirect(s,true)}});
